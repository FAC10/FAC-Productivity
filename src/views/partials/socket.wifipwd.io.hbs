<script>
  const maxLength = 16;
  const m = document.getElementById('m');
  const sendMessageButton = document.getElementById('button');
  const clear = document.getElementById('clear_button');

  const displayCharLeft = () => {
    let strLength = maxLength - m.value.length
    strLength -= 1;
    document.getElementById('charLeft').innerText = strLength + ' characters left';
  }

  m.addEventListener('keyup', displayCharLeft);

  sendMessageButton.addEventListener("click", function (event) {
    event.preventDefault();
    const display = !m.value ? ' ' : m.value;
    socket.emit('wifipwd', {data: display});
    m.value = '';
    m.focus();
    displayCharLeft();
  });

  clear.addEventListener("click", function (event) {
    event.preventDefault();
    socket.emit('wifipwd', {data: ''});
    m.value = '';
    m.focus();
    displayCharLeft();
  });

</script>
